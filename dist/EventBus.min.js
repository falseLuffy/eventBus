!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).OneSocket=n()}(this,function(){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.events=Object.create(null)}var n,t,r;return n=e,(t=[{key:"on",value:function(e,n){var t=this;return Array.isArray(e)?e.forEach(function(e){t.on(e,n)}):(t.events[e]&&(t.events[e]=[])).push(n),t}},{key:"emit",value:function(e){var n,t=this,e=t.events[e];return e&&(n=function(e,n){for(var t=e.length-(n=n||0),r=new Array(t);t--;)r[t]=e[t+n];return r}(arguments,1),e.forEach(function(e){e.apply(t,n)})),t}},{key:"once",value:function(e,n){var t=this;function r(){t.off(e,r),n.apply(t,arguments)}return r.fn=n,t.on(e,r),t}},{key:"off",value:function(e,n){var t=this;if(!arguments.length)return t.events=Object.create(null),t;if(Array.isArray(e))return e.forEach(function(e){t.off(e)}),t;var r,o=t.events[e];if(!o)return t;if(!n)return t.events[e]=null,t;for(var f=o.length;f--;)if((r=o[f])===n||r.fn===n){o.splice(f,1);break}return t}}])&&o(n.prototype,t),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}()});
